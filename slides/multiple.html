<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="author" content="DA 101, Dr. Ladd">
  <title>Predictive Analytics: Multiple Regression</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="https://unpkg.com/reveal.js@^4//dist/reset.css">
  <link rel="stylesheet" href="https://unpkg.com/reveal.js@^4//dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="https://unpkg.com/reveal.js@^4//dist/theme/solarized.css" id="theme">
</head>
<body>
  <div class="reveal">
    <div class="slides">

<section id="title-slide">
  <h1 class="title">Predictive Analytics: Multiple Regression</h1>
  <p class="author">DA 101, Dr. Ladd</p>
  <p class="date">Week 11</p>
</section>

<section>
<section id="multiple-or-multivariate-regression" class="title-slide slide level1">
<h1>Multiple or <em>Multivariate</em> Regression</h1>

</section>
<section id="multiple-regression-lets-you-add-more-independent-variables." class="slide level2">
<h2>Multiple Regression lets you add more independent variables.</h2>
<p>Bivariate regression (the normal kind):</p>
<p><span class="math inline">\(Y=b_{0}+b_{1}x\)</span></p>
<p>Multivariate regression:</p>
<p><span class="math inline">\(Y=b_{0}+b_{1}x_{1}+b_{2}x_{2}+b_{3}x_{3}+...\)</span></p>
</section>
<section id="you-can-add-more-variables-to-the-fit-function." class="slide level2">
<h2>You can add more variables to the <code>fit()</code> function.</h2>
<p>Let’s use the <code>mtcars</code> dataset, which has more variables than <code>mpg</code>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a>carmodel &lt;-<span class="st"> </span><span class="kw">linear_reg</span>() <span class="op">%&gt;%</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a><span class="st">      </span><span class="kw">set_engine</span>(<span class="st">&quot;lm&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a><span class="st">      </span><span class="kw">fit</span>(mpg<span class="op">~</span>disp<span class="op">+</span>hp<span class="op">+</span>drat, <span class="dt">data=</span>mtcars)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true"></a><span class="co">#Let&#39;s talk about the results together:</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true"></a><span class="kw">summary</span>(carmodel<span class="op">$</span>fit)</span></code></pre></div>
</section>
<section id="once-you-have-a-model-you-can-predict-new-values" class="slide level2">
<h2>Once you have a model, you can predict new values!</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a>newvals &lt;-<span class="st"> </span><span class="kw">tibble</span>(<span class="dt">disp=</span><span class="dv">400</span>,<span class="dt">hp=</span><span class="dv">145</span>,<span class="dt">drat=</span><span class="fl">4.2</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a><span class="kw">predict</span>(carmodel,newvals)</span></code></pre></div>
</section></section>
<section>
<section id="how-to-choose-predictor-variables" class="title-slide slide level1">
<h1>How to Choose Predictor Variables</h1>

</section>
<section id="theres-no-magic-solution-you-can-try-different-options-but-use-your-logic-and-dont-just-throw-everything-in-there." class="slide level2">
<h2>There’s no magic solution! You can try different options, but use your logic and don’t just throw everything in there.</h2>
</section>
<section id="occams-razor-says-that-the-simplest-model-is-probably-the-best-one." class="slide level2">
<h2>Occam’s Razor says that the simplest model is probably the best one.</h2>
<figure>
<img data-src="img/William_of_Ockham.png" alt="Think carefully about how many variables you add." /><figcaption aria-hidden="true">Think carefully about how many variables you add.</figcaption>
</figure>
</section>
<section id="as-you-add-variables-r2-will-increase." class="slide level2">
<h2>As you add variables, <span class="math inline">\(R^{2}\)</span> will increase.</h2>
<p>But think about <em>how much</em> it’s increasing.</p>
<p>And use Adjusted <span class="math inline">\(R^{2}\)</span> for multivariate models. It accounts for adding more variables.</p>
</section>
<section id="avoid-multicollinearity-when-two-predictor-variables-correlate." class="slide level2">
<h2>Avoid Multicollinearity: when two predictor variables correlate.</h2>
<p>This will confuse the model and mess up your results! It could even result in <em>false</em> predictions.</p>
</section>
<section id="how-do-we-find-multicollinearity" class="slide level2">
<h2>How do we find multicollinearity?</h2>
<p>You can do a <em>pairwise</em> comparison of the variables you’re thinking about.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a><span class="kw">library</span>(GGally)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true"></a><span class="kw">ggpairs</span>(dataset, <span class="dt">columns=</span><span class="kw">c</span>(<span class="st">&quot;var1&quot;</span>,<span class="st">&quot;var2&quot;</span>,<span class="st">&quot;var3&quot;</span>))</span></code></pre></div>
<p>This will give you scatterplots and correlation coefficients to compare.</p>
</section>
<section id="you-can-consider-categorical-variables-as-predictors-too." class="slide level2">
<h2>You can consider categorical variables as predictors, too.</h2>
<p>But in the coefficients, the first category will always be left out as the baseline.</p>
<p>All the remaining slopes are relative to that baseline!</p>
<p>Let’s create an example using the <code>mpg</code> dataset.</p>
</section>
<section id="challenge-seattle-housing-data" class="slide level2">
<h2>Challenge: Seattle Housing Data</h2>
<p>Try to make an effective multivariate linear model to predict housing prices in Seattle.</p>
<p>Take a look at the dataset and logically choose some predictors. Check for multicollinearity before you run your model! When you’re done, try to predict housing price based on some new data points you create.</p>
<p>Download <a href="../data/house_sales.tsv">house_sales.tsv</a>. You’ll need to open this with <code>housing &lt;- read_tsv("house_sales.tsv")</code>.</p>
</section></section>
<section id="regression-diagnostics" class="title-slide slide level1">
<h1>Regression Diagnostics</h1>

</section>
    </div>
  </div>

  <script src="https://unpkg.com/reveal.js@^4//dist/reveal.js"></script>

  // reveal.js plugins
  <script src="https://unpkg.com/reveal.js@^4//plugin/notes/notes.js"></script>
  <script src="https://unpkg.com/reveal.js@^4//plugin/search/search.js"></script>
  <script src="https://unpkg.com/reveal.js@^4//plugin/zoom/zoom.js"></script>
  <script src="https://unpkg.com/reveal.js@^4//plugin/math/math.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
        // Push each slide change to the browser history
        history: true,
        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [
          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    </body>
</html>
